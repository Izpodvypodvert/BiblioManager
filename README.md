# BiblioManager

BiblioManager - это веб-приложение, предназначенное для управления книгами в библиотеке. Это приложение обеспечивает удобный интерфейс для пользователей и администраторов библиотеки, позволяя им взаимодействовать с книжным каталогом и управлять процессом заимствования книг.

## Основные Возможности

### Для Пользователей

-   Просмотр Доступных Книг: Пользователи могут просматривать список всех доступных книг в библиотеке.
-   Резервирование Книг Онлайн: Возможность онлайн-резервирования книг с автоматическим отменением резерва, если книга не забрана в течение суток.
-   Отмена Резерва: Пользователи могут отменить резерв, если они еще не забрали книгу.
-   Поиск и Фильтрация: На фронтэнде реализованы функции поиска и фильтрации книг.

![Скрин](https://github.com/Izpodvypodvert/BiblioManager/blob/main/frontend.png)

### Для Администраторов

-   Управление Каталогом Книг: Администраторы могут добавлять, обновлять и удалять информацию о книгах через админ-панель.
-   Фиксация Заимствований и Возвратов: Администраторы отслеживают и фиксируют даты и время заимствования и возврата книг пользователями.

## Особенности Реализации

-   Асинхронные Задачи при помощи celery:
    -   Отправка приветственного электронного письма при регистрации пользователя.
    -   Ежечасное удаление зарезервированных, но незабранных книг.

## Технологии

-   Backend: **Django**, **Django REST Framework**
-   Frontend: **React** с использованием **react-table** для удобства работы с данными.
-   Database: **MySQL**
-   Дополнительные инструменты:
    -   **Docker** для контейнеризации и упрощения развертывания.
    -   **Redis** и **Celery** для обработки асинхронных задач.
    -   **django-celery-beat** для расписания периодических задач.

## Установка и Запуск

### Предварительные требования

-   Docker
-   Docker Compose

### Установка

1. Клонируйте репозиторий:

```sh
    git clone git@github.com:Izpodvypodvert/BiblioManager.git
```

2. Перед запуском приложения, создайте файл `.env` в корневой директории проекта:

```env
SECRET_KEY=django-insecure-nv)q55+n=o^4*%9xb1m7^oje#b^-5^u#ju9g^_nw)azi1nnmm$
DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost 127.0.0.1 [::1]

REDIS_URL=redis://redis:6379

MYSQL_DATABASE=mydb
MYSQL_USER=myuser
MYSQL_PASSWORD=secret_password
MYSQL_ROOT_PASSWORD=super_secret_password
DB_HOST=db
DB_PORT=3306

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your_email@gmail.com
EMAIL_HOST_PASSWORD=hxsf cmtn rnbn wwww
```

#### [->Как настроить SMTP Server<-](https://www.youtube.com/watch?v=HFTesr_r_WI)

3. Чтобы запустить приложение в Docker, используйте:

```sh
docker-compose up -d
```

4. Фронтенд:
   http://localhost:3000

5. Админка:
   http://localhost:8000/admin/

6. Для просмотра документации:
   http://localhost:8000/api/swagger/

7. Чтобы остановить и удалить созданные контейнеры, используйте команду:

```sh
docker-compose down
```

### Запуск тестов с использованием Docker

Чтобы запустить тесты в Docker, используйте:

```sh
docker-compose run web pytest
```

или если контейнеры запущены:

```sh
docker exec -it bibliomanager_backend pytest
```

## Документация API

### Обзор

Интегрирован `drf-yasg` для автоматической генерации документации Swagger и ReDoc для REST API. Это позволяет легко просматривать и тестировать все доступные эндпоинты API.

### Доступ к документации

Документация доступна в двух форматах:

1. **Swagger UI:**

    - Доступен по адресу: [http://localhost:8000/api/swagger/](http://localhost:8000/api/swagger/)
    - Интерактивный интерфейс для просмотра и тестирования эндпоинтов API.

2. **ReDoc:**
    - Доступен по адресу: [http://localhost:8000/api/redoc/](http://localhost:8000/api/redoc/)
    - Альтернативное представление документации с улучшенной структурой и читаемостью.
